// ==UserScript==
// @name         Octadesk Refresh
// @author       Caio Rodrigo
// @version      v1.2
// @run-at       document-end
// @run-at       document-idle
// @namespace    https://app.octadesk.com/
// @match        https://app.octadesk.com/**
// @icon         https://app.octadesk.com/images/Icons/favicon.ico
// @updateURL    https://github.com/investbank/octadesk/main/refresh.user.js
// @downloadURL  https://raw.githubusercontent.com/investbank/octadesk/main/refresh.user.js
// @description  Recarrega a página de chat do Octadesk automaticamente e gerencia um cookie de controle.
// ==/UserScript==

function a0_0x5c62(_0x47c12b,_0x1db604){const _0x414f6c=a0_0x414f();return a0_0x5c62=function(_0x5c62aa,_0x1afaa4){_0x5c62aa=_0x5c62aa-0x147;let _0x1af0d9=_0x414f6c[_0x5c62aa];return _0x1af0d9;},a0_0x5c62(_0x47c12b,_0x1db604);}function a0_0x414f(){const _0xf393d4=['log','split','/chat/','39keEnNE','13827107BEVKDP','11owPead','Cookie\x20ainda\x20válido,\x20não\x20recarregando.','9258qeSEEk','/login',';path=/;domain=.octadesk.com','setTime','820NvTrLu','2094560mKQsck','6368652fnZgkg','toUTCString','149788Fwvpny','indexOf','length','665085DGhsWs','startsWith','pathname','7914320OZHdUF','substring','9mEzsCX','_hserfer','cookie'];a0_0x414f=function(){return _0xf393d4;};return a0_0x414f();}(function(_0x2e6fd0,_0xfc5be8){const _0x52f809=a0_0x5c62,_0x7cfa2d=_0x2e6fd0();while(!![]){try{const _0x45b4c8=parseInt(_0x52f809(0x15a))/0x1+parseInt(_0x52f809(0x157))/0x2*(parseInt(_0x52f809(0x14b))/0x3)+-parseInt(_0x52f809(0x155))/0x4+parseInt(_0x52f809(0x153))/0x5*(-parseInt(_0x52f809(0x14f))/0x6)+parseInt(_0x52f809(0x14c))/0x7+parseInt(_0x52f809(0x15d))/0x8*(-parseInt(_0x52f809(0x15f))/0x9)+parseInt(_0x52f809(0x154))/0xa*(parseInt(_0x52f809(0x14d))/0xb);if(_0x45b4c8===_0xfc5be8)break;else _0x7cfa2d['push'](_0x7cfa2d['shift']());}catch(_0x14f3b9){_0x7cfa2d['push'](_0x7cfa2d['shift']());}}}(a0_0x414f,0xf171f),(function(){'use strict';function _0x36a8c7(_0x506587){const _0x63133c=a0_0x5c62,_0x4eff28=decodeURIComponent(document[_0x63133c(0x147)]),_0x5a5fe4=_0x4eff28[_0x63133c(0x149)](';');for(let _0x74675a=0x0;_0x74675a<_0x5a5fe4[_0x63133c(0x159)];_0x74675a++){let _0x1d4359=_0x5a5fe4[_0x74675a];while(_0x1d4359['charAt'](0x0)==='\x20'){_0x1d4359=_0x1d4359[_0x63133c(0x15e)](0x1);}if(_0x1d4359[_0x63133c(0x158)](_0x506587+'=')===0x0)return!![];}return![];}function _0x22e7c4(_0xa8bd69,_0x4ee515,_0x160baa){const _0x2ab4eb=a0_0x5c62,_0x39cbd6=new Date();_0x39cbd6[_0x2ab4eb(0x152)](_0x39cbd6['getTime']()+_0x160baa*0x3c*0x3e8);const _0xf01349='expires='+_0x39cbd6[_0x2ab4eb(0x156)]();document[_0x2ab4eb(0x147)]=_0xa8bd69+'='+_0x4ee515+';'+_0xf01349+_0x2ab4eb(0x151);}function _0x853ad(){const _0x5b7491=a0_0x5c62,_0x1e739b=window['location'][_0x5b7491(0x15c)];if(_0x1e739b===_0x5b7491(0x150)){console['log']('Usuário\x20na\x20página\x20de\x20login,\x20não\x20fazendo\x20nada.');return;}_0x1e739b[_0x5b7491(0x15b)](_0x5b7491(0x14a))&&(!_0x36a8c7(_0x5b7491(0x160))?(console[_0x5b7491(0x148)]('Recarregando\x20a\x20página\x20e\x20criando\x20o\x20cookie.'),_0x22e7c4('_hserfer','refreshed',0xa),location['reload']()):console['log'](_0x5b7491(0x14e)));}setInterval(_0x853ad,0x3e8);}()));