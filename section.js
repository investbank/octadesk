// ==UserScript==
// @name         Octadesk to Hubspot
// @namespace    hhttps://app.octadesk.com/
// @version      v3
// @description  Add a button in the chat to direct the user to the Deal on Hubspot and send a Webhook to assign the user as the owner of the Deal.
// @author       Caio Rodrigo
// @match        https://app.octadesk.com/chat/*
// @icon         https://app.octadesk.com/images/Icons/favicon.ico
// @grant        GM_xmlhttpRequest
// @grant        GM_addStyle
// ==/UserScript==
function a0_0x50c1(){const _0x3bdbb6=['645970052','Abrir\x20no\x20HubSpot','4504983jFkzfa','POST','627397232','24gTdpgh','href','10231776WJUbTV','592619104','497313796','a.hubspot-button','://','9KTvKHF','hubspot-button','710142215','createElement','zapier','602381622','3l74oda','36711165','416784450','className','#octa-navigation\x20>\x20div\x20>\x20div\x20>\x20div._navigation-footer_18j2x_1\x20>\x20div\x20>\x20div._menu_9ygbx_1._connection-manager_wd63x_5\x20>\x20div\x20>\x20div\x20>\x20span._avatar-person-details__name_pn7wi_7\x20>\x20span','416784447','5495400JWvESS','31540NDLmMX','offsetHeight','17515kzmPqG','468809336','application/json','210bBBGCV','466263204','684130698','#container-chat\x20>\x20main\x20>\x20section\x20>\x20div._profile_1epkj_1\x20>\x20section:nth-child(1)','responseText','Webhook\x20enviado\x20com\x20sucesso.','703998366','appendChild','Erro\x20ao\x20enviar\x20webhook.','521418344','height','722364735','innerText','4CQDGBc','onclick','style','654036494','11483048','https','2760141vQRXLB','error','preventDefault','_blank','536328832','490662201','402277167','body','https://app.hubspot.com/contacts/5867570/record/0-3/','123577470','remove','com','711822417','694540914','689176995','includes','224534171','Elemento\x20do\x20ID\x20do\x20cliente\x20não\x20encontrado.','664278537','506yMkrZc','width','Usuário\x20não\x20encontrado.','639891100','121318700','log','210548907','#container-chat\x20>\x20main\x20>\x20section\x20>\x20div._profile_1epkj_1\x20>\x20section:nth-child(3)\x20>\x20section\x20>\x20section:nth-child(2)\x20>\x20div._fields-container_1xd1d_5\x20>\x20div:nth-child(1)\x20>\x20div\x20>\x20div._fields-container__field__box_1xd1d_45\x20>\x20div\x20>\x20span','322990oklMRA','/chat/empty','635901253','querySelector','open','hooks','#container-chat\x20>\x20main\x20>\x20section\x20>\x20div._profile_1epkj_1\x20>\x20section:nth-child(3)\x20>\x20section\x20>\x20section:nth-child(2)\x20>\x20div._fields-container_1xd1d_5\x20>\x20div:nth-child(6)\x20>\x20div\x20>\x20div._fields-container__field__box_1xd1d_45\x20>\x20div\x20>\x20span','/chat/','587785904'];a0_0x50c1=function(){return _0x3bdbb6;};return a0_0x50c1();}function a0_0x2acf(_0x2905b3,_0x5458e5){const _0x50c1ee=a0_0x50c1();return a0_0x2acf=function(_0x2acf9f,_0x1dcdf5){_0x2acf9f=_0x2acf9f-0x19f;let _0x523248=_0x50c1ee[_0x2acf9f];return _0x523248;},a0_0x2acf(_0x2905b3,_0x5458e5);}(function(_0x4dfe5b,_0x3dd8df){const _0x164b94=a0_0x2acf,_0x55a56b=_0x4dfe5b();while(!![]){try{const _0x13ce93=-parseInt(_0x164b94(0x1e4))/0x1*(-parseInt(_0x164b94(0x1e7))/0x2)+-parseInt(_0x164b94(0x1a5))/0x3*(-parseInt(_0x164b94(0x19f))/0x4)+-parseInt(_0x164b94(0x1c0))/0x5*(-parseInt(_0x164b94(0x1ce))/0x6)+-parseInt(_0x164b94(0x1cb))/0x7+-parseInt(_0x164b94(0x1e1))/0x8*(parseInt(_0x164b94(0x1d5))/0x9)+-parseInt(_0x164b94(0x1e2))/0xa*(-parseInt(_0x164b94(0x1b8))/0xb)+-parseInt(_0x164b94(0x1d0))/0xc;if(_0x13ce93===_0x3dd8df)break;else _0x55a56b['push'](_0x55a56b['shift']());}catch(_0x966c1e){_0x55a56b['push'](_0x55a56b['shift']());}}}(a0_0x50c1,0xef200),(function(){'use strict';const _0x35e45d=a0_0x2acf;GM_addStyle('a.hubspot-button{display:flex;margin-left:.5rem;border-top-left-radius:.75rem;border-bottom-left-radius:.75rem;--tw-bg-opacity:1;background-color:rgba(255,255,255,var(--tw-bg-opacity));--tw-shadow:0\x201px\x202px\x200\x20rgba(0,\x200,\x200,\x20.05);box-shadow:var(--tw-ring-offset-shadow,0\x200\x20#0000),var(--tw-ring-shadow,0\x200\x20#0000),var(--tw-shadow);font-family:Noto\x20Sans;font-size:.875rem;line-height:1.25rem;font-weight:500;--tw-text-opacity:1;color:rgba(79,84,100,var(--tw-text-opacity));position:absolute;top:.15%;right:.5%;z-index:1000;align-items:center;justify-content:center}');const _0x178d13={'Caio\x20Rodrigo':_0x35e45d(0x1dc),'Cintia\x20França':_0x35e45d(0x1bc),'Jane\x20Silva':_0x35e45d(0x1ae),'Jeverson\x20Leal':_0x35e45d(0x1be),'Diego\x20Mota':_0x35e45d(0x1b5),'Luna\x20Rodrigues':'260593552','Julio\x20Cezar':'402134392','Beatriz\x20Vitoria':_0x35e45d(0x1ab),'Raquel\x20Andressa':_0x35e45d(0x1e0),'Thalia\x20Sousa':_0x35e45d(0x1dd),'Thiago\x20Keiki':'448802705','Vinicius\x20Antunes':_0x35e45d(0x1e8),'Maria\x20Clara':_0x35e45d(0x1e5),'Leandro\x20Soares':'482278797','Loara\x20Mikelly':_0x35e45d(0x1aa),'Maria\x20Barreto':_0x35e45d(0x1d2),'Lucas\x20Ruotolo':_0x35e45d(0x1f0),'Rosimeire\x20Pereira':_0x35e45d(0x1a9),'Jonathan\x20Rodrigues':'537759574','Mariana\x20Bergara':_0x35e45d(0x1c8),'Carlos\x20Henrique':_0x35e45d(0x1d1),'Beatriz\x20Menezes':_0x35e45d(0x1da),'Alef\x20Rodrigues':_0x35e45d(0x1cd),'Matheus\x20Gomes':_0x35e45d(0x1c2),'Barbara\x20Vieira':_0x35e45d(0x1bb),'Thalyta\x20Ramos':_0x35e45d(0x1c9),'Igor\x20Gomes':_0x35e45d(0x1a2),'Paloma\x20Caramelo':_0x35e45d(0x1b7),'Murilo\x20Nogueira':_0x35e45d(0x1e9),'Othavio\x20Cordeiro':_0x35e45d(0x1b3),'Natalia\x20Betti':_0x35e45d(0x1b2),'Rafael\x20Spanopoulos':_0x35e45d(0x1ed),'Yago\x20Fagundes':_0x35e45d(0x1d7),'Mariana\x20Mendonça':_0x35e45d(0x1b1),'Gabriel\x20Leite':_0x35e45d(0x1f2)},_0x57e7c1=_0x35e45d(0x1a4),_0x25e085=_0x35e45d(0x1c5),_0x3cad54=_0x35e45d(0x1d9),_0x50df91=_0x35e45d(0x1b0),_0x41a3b0='catch',_0x54ba2f=_0x35e45d(0x1a3),_0x5152cf=_0x35e45d(0x1db);let _0x15d70a=location[_0x35e45d(0x1cf)];function _0x3381c0(){const _0x537d21=_0x35e45d;location['href']['includes'](_0x537d21(0x1c7))&&!location[_0x537d21(0x1cf)][_0x537d21(0x1b4)](_0x537d21(0x1c1))&&location[_0x537d21(0x1cf)]!==_0x15d70a&&(_0x15d70a=location[_0x537d21(0x1cf)],setTimeout(_0x4c8f58,0x3e8));}function _0x4c8f58(){const _0x3180d8=_0x35e45d,_0x280d23=document[_0x3180d8(0x1c3)](_0x3180d8(0x1d3));_0x280d23&&_0x280d23[_0x3180d8(0x1af)]();const _0xd35cd7=document[_0x3180d8(0x1c3)](_0x3180d8(0x1c6)),_0x43bb9a=document[_0x3180d8(0x1c3)](_0x3180d8(0x1bf)),_0x57ebdb=document[_0x3180d8(0x1c3)](_0x3180d8(0x1df));if(_0xd35cd7&&_0x57ebdb){const _0x15bb61=_0xd35cd7['innerText'];console[_0x3180d8(0x1bd)](_0x15bb61);const _0x363893=_0x57ebdb[_0x3180d8(0x1f3)];console[_0x3180d8(0x1bd)](_0x363893);const _0x2a5b7b=_0x43bb9a[_0x3180d8(0x1f3)];console[_0x3180d8(0x1bd)](_0x2a5b7b);const _0x5d358b=_0x178d13[_0x363893];if(!_0x5d358b){console['log'](_0x3180d8(0x1ba));return;}const _0x8c2c57=document['querySelector'](_0x3180d8(0x1ea)),_0x20ef06=_0x8c2c57['offsetWidth'],_0x38ef72=_0x8c2c57[_0x3180d8(0x1e3)],_0x3aea74=document[_0x3180d8(0x1d8)]('a');_0x3aea74[_0x3180d8(0x1de)]=_0x3180d8(0x1d6),_0x3aea74[_0x3180d8(0x1cf)]=_0x3180d8(0x1ad)+_0x15bb61,_0x3aea74[_0x3180d8(0x1f3)]=_0x3180d8(0x1ca),_0x3aea74[_0x3180d8(0x1a1)][_0x3180d8(0x1b9)]=_0x20ef06+'px',_0x3aea74[_0x3180d8(0x1a1)][_0x3180d8(0x1f1)]=_0x38ef72+'px',_0x3aea74[_0x3180d8(0x1a0)]=function(_0x43f900){const _0x1eb809=_0x3180d8;_0x43f900[_0x1eb809(0x1a7)](),_0x284266(_0x15bb61,_0x3aea74[_0x1eb809(0x1cf)],_0x5d358b,_0x2a5b7b,_0x363893);},document[_0x3180d8(0x1ac)][_0x3180d8(0x1ee)](_0x3aea74);}else console['log'](_0x3180d8(0x1b6));}function _0x284266(_0x5dbfe6,_0x238098,_0x1a900b,_0x575d5d,_0x5b669b){const _0x5d9040=_0x35e45d;GM_xmlhttpRequest({'method':_0x5d9040(0x1cc),'url':_0x57e7c1+_0x5d9040(0x1d4)+_0x25e085+'.'+_0x3cad54+'.'+_0x50df91+'/'+_0x25e085+'/'+_0x41a3b0+'/'+_0x54ba2f+'/'+_0x5152cf,'headers':{'Content-Type':_0x5d9040(0x1e6)},'data':JSON['stringify']({'Deal\x20Name':_0x575d5d,'Deal\x20ID':_0x5dbfe6,'Username':_0x5b669b,'Deal\x20owner':_0x1a900b}),'onload':function(_0x5a8d95){const _0x5ac182=_0x5d9040;console[_0x5ac182(0x1bd)](_0x5ac182(0x1ec),_0x5a8d95[_0x5ac182(0x1eb)]),window[_0x5ac182(0x1c4)](_0x238098,_0x5ac182(0x1a8));},'onerror':function(_0x35caef){const _0x51ce34=_0x5d9040;console[_0x51ce34(0x1a6)](_0x51ce34(0x1ef),_0x35caef);}});}setInterval(_0x3381c0,0x3e8);}()));